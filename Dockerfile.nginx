# Use a prebuilt Nginx with RTMP module
FROM alfg/nginx-rtmp

# Copy your nginx config (includes both RTMP + HTTP HLS sections)
COPY nginx.conf /etc/nginx/nginx.conf

# Create directories for HLS
RUN mkdir -p /tmp/hls/live

# Expose ports
EXPOSE 80 1935

# Run nginx in foreground
CMD ["nginx", "-g", "daemon off;"]
